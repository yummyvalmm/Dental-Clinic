@import "tailwindcss";

@theme {
  --font-sans: 'Manrope', system-ui, sans-serif;
  --font-serif: 'Playfair Display', serif;

  /* PWA-Specific Professional Fonts - Prioritize System */
  --font-heading-pwa: 'Playfair Display', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --font-body-pwa: 'Manrope', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;

  --color-primary: var(--color-primary);
  --color-accent: #2563EB;
  --color-accent-dark: #1E40AF;
  --color-accent-light: #60A5FA;
  --color-accent-soft: rgba(37, 99, 235, 0.1);

  --color-bg-body: var(--color-bg-body);
  --color-bg-surface: var(--color-bg-surface);

  --color-text-main: var(--color-text-main);
  --color-text-muted: var(--color-text-muted);

  --shadow-glow: 0 0 40px -10px rgba(37, 99, 235, 0.3);
}

:root {
  /* Light Mode (Default) */
  --color-bg-body: #F8FAFC;
  /* Slate-50 */
  --color-bg-surface: #FFFFFF;
  /* White */
  --color-text-main: #1A1A1A;
  /* Neutral dark gray instead of blue-tinted slate */
  --color-text-muted: #475569;
  /* Slate-600 */
  --color-primary: #F1F5F9;
  /* Slate-100 */

  /* Glassmorphism - Proper Implementation */
  /* Glassmorphism - Proper Implementation (Refined High Contrast) */
  /* Level 1: Cards (Grounded, High Content Visibility) */
  --glass-bg-low: rgba(255, 255, 255, 0.85);

  /* Level 1.5: Floating Panels */
  --glass-bg-medium: rgba(255, 255, 255, 0.85);

  /* Level 2: Modals / Overlays (Glassy aesthetics) */
  --glass-bg-high: rgba(255, 255, 255, 0.15);

  /* Tint layer for legibility */
  --glass-tint: rgba(255, 255, 255, 0.1);

  /* Borders */
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-hover: rgba(255, 255, 255, 0.3);

  /* Shadows */
  /* Shadows */
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  --glass-shadow-hover: 0 12px 48px rgba(0, 0, 0, 0.15);
  --glass-shadow-deep: 0 20px 60px -10px rgba(0, 0, 0, 0.3);

  /* Depth & Shine */
  --glass-highlight: rgba(255, 255, 255, 0.4);
  --glass-shine: linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 40%);
  --glass-noise: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");

  /* Responsive Blur Levels */
  --glass-blur-sm: 12px;
  --glass-blur-md: 20px;
  --glass-blur-lg: 30px;

  /* Clarity & Deference - Subtle Surface Tokens */
  --surface-bg: rgba(0, 0, 0, 0.02);
  --surface-bg-medium: rgba(0, 0, 0, 0.04);
  --surface-bg-solid: rgba(0, 0, 0, 0.06);
  --surface-bg-hover: rgba(0, 0, 0, 0.04);
  --surface-bg-active: rgba(0, 0, 0, 0.06);

  --border-subtle: rgba(0, 0, 0, 0.08);

  --shadow-low: 0 1px 3px rgba(0, 0, 0, 0.06);
  --shadow-medium: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-high: 0 4px 16px rgba(0, 0, 0, 0.10);

  font-family: var(--font-sans);
  line-height: 1.6;
  font-weight: 400;

  color-scheme: light;
  color: var(--color-text-main);
  background-color: var(--color-bg-body);

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Dark Mode Overrides - Pure Black (Apple Style) */
.dark {
  --color-bg-body: #000000;
  /* Pure black for maximum glass UI contrast */
  --color-bg-surface: #0A0A0A;
  /* Slightly lighter black for surfaces */
  --color-text-main: #FFFFFF;
  /* Pure white text */
  --color-text-muted: #8E8E93;
  /* Apple gray for muted text */
  --color-primary: #000000;

  /* Glassmorphism - Dark Mode */
  --glass-bg-low: rgba(0, 0, 0, 0.4);
  --glass-bg-medium: rgba(0, 0, 0, 0.5);
  --glass-bg-high: rgba(0, 0, 0, 0.6);

  /* Tint layer for legibility */
  --glass-tint: rgba(0, 0, 0, 0.3);

  /* Borders */
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-border-hover: rgba(255, 255, 255, 0.25);

  /* Shadows */
  /* Shadows */
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  --glass-shadow-hover: 0 12px 48px rgba(0, 0, 0, 0.6);
  --glass-shadow-deep: 0 25px 50px -12px rgba(0, 0, 0, 0.8);

  /* Depth & Shine - Dark Mode */
  --glass-highlight: rgba(255, 255, 255, 0.15);
  --glass-shine: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 40%);

  /* Clarity & Deference - Subtle Surface Tokens (Dark Mode) */
  --surface-bg: rgba(255, 255, 255, 0.03);
  --surface-bg-medium: rgba(255, 255, 255, 0.05);
  --surface-bg-solid: rgba(255, 255, 255, 0.08);
  --surface-bg-hover: rgba(255, 255, 255, 0.05);
  --surface-bg-active: rgba(255, 255, 255, 0.08);

  --border-subtle: rgba(255, 255, 255, 0.08);

  --shadow-low: 0 1px 3px rgba(0, 0, 0, 0.3);
  --shadow-medium: 0 2px 8px rgba(0, 0, 0, 0.4);
  --shadow-high: 0 4px 16px rgba(0, 0, 0, 0.5);

  color-scheme: dark;
}

/* Shimmer animation for enhanced glass surfaces */
@keyframes shimmer {
  0% {
    transform: translateX(-100%) translateY(-100%) rotate(45deg);
  }

  100% {
    transform: translateX(100%) translateY(100%) rotate(45deg);
  }
}

.animate-shimmer {
  animation: shimmer 3s ease-in-out infinite;
}

@keyframes skeleton-shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

@keyframes pulse-subtle {

  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.85;
    transform: scale(1.015);
  }
}

.animate-pulse-subtle {
  animation: pulse-subtle 3s ease-in-out infinite;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .animate-shimmer {
    animation: none;
  }
}


/* Smooth Scrolling */
html.lenis,
html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

body {
  margin: 0;
  min-height: 100vh;
  overflow-x: hidden;
}

/* Mobile PWA Optimization */
@media (max-width: 1024px) {

  /* Default behavior for Web/Browser (Scrolls Window) */
  html,
  body {
    overscroll-behavior-y: contain;
    width: 100%;
    min-height: 100%;
  }

  /* Mobile Performance Overrides */
  @media (max-width: 768px) {
    :root {
      --glass-blur-sm: 8px;
      --glass-blur-md: 12px;
      --glass-blur-lg: 16px;
    }

    .bg-noise {
      display: none !important;
    }
  }


  /* 
   === PWA ONLY MODE === 
   Active only when installed/standalone 
*/
  @media all and (display-mode: standalone) {

    html,
    body {
      /* Simplified PWA Scroll: Rely on natural viewport */
      overflow-x: hidden;
      overflow-y: auto;
      width: 100%;
      height: 100%;
      overscroll-behavior-y: none;
      /* CHANGED: Prevent bounce to show white background */
      -webkit-overflow-scrolling: touch;
      background-color: var(--color-bg-body);
      /* ESSENTIAL: Covers overscroll area */
    }

    /* 
     Forces the MainLayout container to become the scrollable area 
     This class must be targeted via the ID #scroll-container in MainLayout
  */
    #scroll-container {
      min-height: 100vh;
      height: 100%;
      /* Ensure full height coverage */
      overflow-y: visible !important;
      background-color: var(--color-bg-body);
    }

    /* PWA Layout Logic: Fixed Nav + Extra Safe Padding */
    /* Enforce safe spacing on all page containers to prevent overlap */
    #scroll-container>div[class*="pt-"] {
      /* pt-24 (96px) is too small. Force sufficient clearance + Status Bar */
      padding-top: calc(120px + env(safe-area-inset-top)) !important;
    }

    html,
    body {
      background-color: var(--color-bg-body);
    }
  }

  body {
    /* PWA: Prevent text selection for app-like feel */
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    -webkit-user-select: none;
    touch-action: pan-y;
    /* Disable pinch-zoom, allow vertical scroll */

    /* PWA Typography: Professional, trustworthy fonts */
    font-family: var(--font-body-pwa);
    font-weight: 500;
    /* Medium weight for better readability */
  }

  /* PWA Typography System - Bold, Trustworthy, Professional */
  h1,
  h2 {
    font-family: var(--font-heading-pwa) !important;
    /* Playfair Display or System Serif */
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  h3,
  h4,
  h5,
  h6 {
    /* STRICTLY MANROPE / SANS for readability */
    font-family: var(--font-body-pwa) !important;
    font-weight: 700;
    letter-spacing: -0.01em;
  }

  /* Body text with improved readability */
  p,
  span,
  div,
  a,
  button,
  input,
  textarea,
  label {
    font-family: var(--font-body-pwa);
  }

  /* Override serif font on mobile for consistency */
  .font-serif {
    font-family: var(--font-heading-pwa) !important;
    font-weight: 700 !important;
  }

  /* Strengthen font weights across the board */
  .font-medium {
    font-weight: 600 !important;
    /* Upgrade medium to semibold */
  }

  .font-semibold {
    font-weight: 700 !important;
    /* Upgrade semibold to bold */
  }

  .font-bold {
    font-weight: 800 !important;
    /* Upgrade bold to extrabold */
  }

  .font-extrabold {
    font-weight: 900 !important;
    /* Maximum weight for emphasis */
  }
}

/* Allow selection in inputs */
input,
textarea {
  user-select: text;
  -webkit-user-select: text;
}

/* Animations */
@keyframes float {
  0% {
    transform: translateY(0px);
  }

  50% {
    transform: translateY(-20px);
  }

  100% {
    transform: translateY(0px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-float-delayed {
  animation: float 8s ease-in-out infinite;
  animation-delay: 2s;
}

@layer utilities {
  .text-shadow {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  }

  .bg-noise {
    background-image: var(--glass-noise);
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    opacity: 0.4;
    mix-blend-mode: overlay;
  }

  .glass-panel {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  /* Apple-Style Ultra-Premium Liquid Glass */
  .glass-liquid-dark {
    /* Base Material */
    background:
      linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.01) 100%),
      rgba(15, 23, 42, 0.85);
    /* Deep slate base with transparency */

    /* Intense Blur & Vibrancy */
    backdrop-filter: blur(40px) saturate(200%);
    -webkit-backdrop-filter: blur(40px) saturate(200%);

    /* Performance Optimization */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    backface-visibility: hidden;

    /* Physical Glass Edge (Rim Light) */
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-top: 1px solid rgba(255, 255, 255, 0.25);
    /* Catch light on top */
    border-left: 1px solid rgba(255, 255, 255, 0.15);
    /* Subtle side light */

    /* Depth & Volume */
    box-shadow:
      /* Inner Rim Glow (The "Thick Glass" look) */
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2),
      inset 0 0 40px -10px rgba(255, 255, 255, 0.05),
      /* Outer Drop Shadow */
      0 12px 40px -8px rgba(0, 0, 0, 0.5),
      0 4px 16px -4px rgba(0, 0, 0, 0.3);
  }

  /* Mobile Optimization: High Performance Mode */
  @media (max-width: 768px) {
    .glass-liquid-dark {
      /* Disable expensive filters for max fps - Reduce blur significantly */
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);

      /* Use nearly opaque background to hide lack of blur */
      background: rgba(15, 23, 42, 0.85);

      /* Simple border & shadow */
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }
  }

  /* Static variant (No Hover Effect) for Containers */
  .glass-liquid-static {
    background:
      linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.01) 100%),
      rgba(15, 23, 42, 0.85);
    backdrop-filter: blur(40px) saturate(200%);
    -webkit-backdrop-filter: blur(40px) saturate(200%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-top: 1px solid rgba(255, 255, 255, 0.25);
    border-left: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow:
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2),
      inset 0 0 40px -10px rgba(255, 255, 255, 0.05),
      0 12px 40px -8px rgba(0, 0, 0, 0.5),
      0 4px 16px -4px rgba(0, 0, 0, 0.3);
  }

  /* Hover Effects: Desktop Only to prevent scroll jank */
  @media (hover: hover) {
    .glass-liquid-dark:hover {
      /* Standard Global Hover: Lift & Brighten */
      transform: translateY(-2px) scale(1.01);

      /* Brighter Interaction State */
      background:
        linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%),
        rgba(30, 41, 59, 0.8);

      /* Enhanced Brightness for visibility */
      backdrop-filter: blur(40px) saturate(200%) brightness(1.3);
      -webkit-backdrop-filter: blur(40px) saturate(200%) brightness(1.3);

      border-color: rgba(255, 255, 255, 0.5);

      box-shadow:
        /* Bright Rim Light */
        inset 0 1px 0 0 rgba(255, 255, 255, 0.5),
        /* Deep Inner Glow */
        inset 0 0 60px -10px rgba(255, 255, 255, 0.2),
        /* Lifted Drop Shadow */
        0 16px 48px -8px rgba(0, 0, 0, 0.6),
        0 8px 20px -4px rgba(0, 0, 0, 0.4);

      z-index: 10;
    }
  }

  /* Active/Touch State - Mirrors Hover but with tactical reduction */
  .glass-liquid-dark:active {
    transform: scale(0.98) !important;
    background: rgba(30, 41, 59, 0.95) !important;
    backdrop-filter: none !important;
    /* disabled for instant feedback */
    border-color: #ffffff !important;
    transition: all 0.1s cubic-bezier(0.25, 0.8, 0.25, 1);
  }
}

/* Glass Utilities */
.glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.5);
}

.glass-dark {
  background: rgba(26, 28, 35, 0.8);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Liquid Glass Utilities - Apple HIG Inspired */
/* Liquid Glass Utilities - Apple HIG Inspired (Premium Depth) */
.glass-liquid {
  /* Hierarchy & Material */
  background: linear-gradient(135deg,
      rgba(255, 255, 255, 0.1) 0%,
      rgba(255, 255, 255, 0.05) 100%);

  /* Vibrancy & Blur */
  backdrop-filter: blur(40px) saturate(200%);
  -webkit-backdrop-filter: blur(40px) saturate(200%);

  /* Structure */
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-top: 1px solid rgba(255, 255, 255, 0.4);

  /* Specularity & Thickness */
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.7),
    inset 0 0 40px 0 rgba(255, 255, 255, 0.1),
    0 12px 40px -8px rgba(0, 0, 0, 0.15);
}

/* Mobile Optimization for Light Glass */
@media (max-width: 768px) {
  .glass-liquid {
    /* Restore Blur - balanced for perf */
    backdrop-filter: none;
    -webkit-backdrop-filter: none;

    /* Restore Transparency & Gradient */
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%);

    /* Restore Border & Shadow */
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
  }
}

.btn-liquid {
  position: relative;
  background: linear-gradient(120deg,
      rgba(255, 255, 255, 0.6) 0%,
      rgba(255, 255, 255, 0.25) 100%);
  backdrop-filter: blur(24px) saturate(160%);
  -webkit-backdrop-filter: blur(24px) saturate(160%);

  border: 1px solid rgba(255, 255, 255, 0.5);

  /* Interactive Specularity */
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.9),
    0 4px 12px rgba(37, 99, 235, 0.1);

  overflow: hidden;
  /* Premium Spring Physics */
  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Note: glass-liquid-dark is defined in @layer utilities above */

/* Shimmer Animation */
.btn-liquid::before {
  content: '';
  position: absolute;
  top: 0;
  left: -150%;
  width: 150%;
  height: 100%;
  background: linear-gradient(115deg,
      transparent,
      rgba(255, 255, 255, 0.8) 45%,
      rgba(255, 255, 255, 0.8) 55%,
      transparent);
  transform: skewX(-20deg);
  transition: 0.7s cubic-bezier(0.19, 1, 0.22, 1);
}

.btn-liquid:hover {
  transform: translateY(-2px) scale(1.02);
  background: linear-gradient(120deg,
      rgba(255, 255, 255, 0.85) 0%,
      rgba(255, 255, 255, 0.5) 100%);
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 1),
    0 15px 30px -5px rgba(37, 99, 235, 0.3),
    0 0 20px rgba(255, 255, 255, 0.4);
  border-color: rgba(255, 255, 255, 1);
}

.btn-liquid:active {
  transform: translateY(1px) scale(0.95);
  box-shadow:
    inset 0 1px 0 0 rgba(255, 255, 255, 0.6),
    0 4px 8px rgba(37, 99, 235, 0.1);
  transition-duration: 0.2s;
}

/* Hardware Acceleration for Glass Components */
.translate-z-0 {
  transform: translateZ(0);
}

.will-change-transform {
  will-change: transform;
}

/* Reduced Motion Support - Mobile UI Standards 2026 */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* Disable heavy blur effects for performance */
  .backdrop-blur-\[10px\],
  .backdrop-blur-\[20px\],
  .backdrop-blur-\[30px\] {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
}

/* Active State Standards - 0.95 scale on press */
.active\:scale-95:active {
  transform: scale(0.95);
}

.active\:scale-\[0\.95\]:active {
  transform: scale(0.95);
}

/* Global Interaction Utility */
.active-press {
  transition: transform 0.1s cubic-bezier(0.4, 0, 0.2, 1);
}

.active-press:active {
  transform: scale(0.95);
}


/* Mobile Scroll Snap Removed for Smoother Rendering */